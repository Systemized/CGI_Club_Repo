{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/0808ca8898.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{% static 'canvas/main.css'%}">

    {% if title %}
    <title>Canvas - {{ title }}</title>
    {% else %}
    <title>Canvas - CGI Club</title>
    {% endif %}
</head>

<body class="bg-gray-300 ">
    <div {% block homeBG %}{% endblock homeBG %}>

        <!-- NAVBAR START -->
        <header class="bg-gradient-to-b from-black/70 via-black/50 to-black/20 p-4 w-full">
            <!-- <header class="bg-gradient-to-br from-purple-500 via-indigo-500 to-teal-400 p-4 w-full"> -->
            <nav class="flex justify-between m-auto max-w-screen-md">
                <!-- Logo -->
                <div class="text-white w-1/3 flex">
                    <a href="{% url 'canvas-home' %}"><img src="{% static 'canvas/ClubLogo.png' %}" alt="Logo"
                            class="h-10"></a>
                </div>
                <!-- Visible on Large Screens, invisible on small -->
                <ul class="hidden md:flex items-center text-white w-1/3 justify-between font-semibold">
                    <li><a href="{% url 'canvas-gallery' %}">Gallery</a></li>
                    <li><a href="{% url 'canvas-feed' %}">Feed</a></li>
                    <li><a href="{% url 'canvas-about' %}">About</a></li>
                </ul>
                {% if user.is_authenticated %}
                <div class="w-1/3 hidden md:flex items-center text-white">
                    <a class="ml-auto" href="{% url 'profile' %}">Profile</a>
                    <form action="{% url 'logout' %}" method="post">
                        {% csrf_token %}
                        <button class="text-white hover:text-slate-200 pl-5" type="submit">Logout</button>
                    </form>
                </div>
                {% else %}
                <a class="hidden md:flex font-semibold w-1/3" href="{% url 'login' %}">
                    <button
                        class="bg-orange-500 hover:bg-orange-600 rounded-3xl px-6 py-2 text-white ml-auto">Login</button>
                </a>
                {% endif %}
                <!-- Hamburger Menu -->
                <button id="menu-btn" class="menu-btn md:hidden fa-solid fa-bars text-3xl text-white"></button>
            </nav>

            <!-- Hidden Menu, toggable from hamburger manu -->
            <ul id="mobile-menu" class="hidden md:hidden text-white mt-5 space-y-5 flex-col items-center font-semibold">
                <li class="text-center"><a href="{% url 'canvas-gallery' %}" class="hover:text-gray-300">Gallery</a>
                </li>
                <li class="text-center"><a href="{% url 'canvas-feed' %}" class="hover:text-gray-300">feed</a></li>
                <li class="text-center"><a href="{% url 'canvas-about' %}" class="hover:text-gray-300">About</a></li>
                <!-- <li class="text-center"><a href="#" class="hover:text-gray-300">Contact</a></li> -->
                <li class="text-center pt-5 space-y-3">
                    {% if user.is_authenticated %}
                    <a class="ml-auto text-white hover:text-slate-200" href="{% url 'profile' %}">Profile</a>
                    <form action="{% url 'logout' %}" method="post">
                        {% csrf_token %}
                        <button class="text-white hover:text-slate-200" type="submit">Logout</button>
                    </form>
                    {% else %}
                    <a href="{% url 'login' %}"></a>
                    <button class="bg-orange-500 hover:bg-orange-600 rounded-3xl px-10 py-2 ">Login</button>
                    </a>
                    {% endif %}
                </li>
            </ul>

            <script>
                // Toggle the mobile menu
                const menuBtn = document.getElementById('menu-btn');
                const mobileMenu = document.getElementById('mobile-menu');

                menuBtn.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            </script>
        </header>
        <!-- NAVBAR END -->
        {% block homeContent%}{% endblock homeContent%}
    </div>

    <section class="mx-4">
        <div class="max-w-screen-md m-auto">
            {% if messages %}
            {% for message in messages %}
            <div class="px-3 py-2 w-full mt-2 rounded-lg bg-slate-500 text-white">{{ message }}</div>
            {% endfor %}
            {% endif %}

            {% block content%}{% endblock content%}
        </div>
    </section>
</body>

</html>